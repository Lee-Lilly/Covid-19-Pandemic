<!DOCTYPE html>
<html xmlns:th="https://www.thymeleafe.org">
<head>
	<title>GOVID-19</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<link rel="stylesheet" type="text/css" href="css/highcharts.css" />
	<link rel="stylesheet" type="text/css" href="css/some_style.css"/>
	<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
	<script src="/js/jquery-3.5.1.slim.min.js"></script>
	<script src="/js/highcharts.js"></script>
</head>
<body>
	<div class = "container-fluid">
		<nav class="navbar navbar-expand-sm navbar-light justify-content-between" style="background-color: #e3f2fd;">
	         <div class="collapse navbar-collapse" id="navbarNav">
	               <ul class="nav navbar-nav">
	                    <li class="nav-item active">
	                         <a th:href="@{/global}"  class="nav-link">Global</a>
	                    </li> 
	                     <li class="nav-item active">
	                         <a th:href="@{/continent}"  class="nav-link">Continent</a>
	                    </li>   
	                     <li class="nav-item active">
	                         <a th:href="@{/countries}"  class="nav-link">Countries</a>
	                    </li>        			  				     
	               	</ul>
	         </div>
	    </nav>
        
        <div id ="global-timeline" style="width:100%; height:100%;"></div>    
	   
	   <p class="content" th:inline="text" style ="font-style: italic">
			* Data Source: <a href="https://corona.lmao.ninja">The NovelCOVID API</a> and  <a href="https://about-corona.net">ABOUT-CORONA.NET</a><br>
			* Updated at: [[${latestDate}]]
		</p>
	   
	</div> 

	<script th:inline="javascript">
	/*<![CDATA[*/
	$(function () {
		Highcharts.chart('global-timeline', {
		  	title: {
			    text: "COVID-19 Worldwide"
		  	},
		  	subtitle: {
		  		text: 'Total Confirmed: [[${totalConfirmed}]]' ,
		  	},
		  	credits: false,
		  	xAxis: {
			     categories: /*[[${dates}]]*/[]
		 	},
	        tooltip: {
	        	  	split:false,
	        	    headerFormat: '<b>{point.x}</b><br/>',
	        	    pointFormat: '<b>{point.name}</b> {point.y}'
	        },	  
	        plotOptions: {
	        	   area: {
	        		      stacking: 'normal',
	        		      dataLabels: {
	        		        enabled: true,
	        		      },
			        	 lineColor: '#666666',
			             lineWidth: 1,
			             marker: {
			               lineWidth: 1,
			               lineColor: '#666666'
			             }
	        		  },
	        		  pie: {
		                    allowPointSelect: true,
		                    depth: 5,
		                    dataLabels: {
		                        enabled: true,
		                        format: '<b>{point.name}</b>:{point.percentage:.1f} %',
		                    }
		                }
	          },	          
			  series: [{
				  	type: 'area',
    				name: 'Active',
    		     	data: /*[[${active}]]*/ [],		
    		 	}, {
    		 		type: 'area',
    		     	name: 'Deaths',
    		      	data: /*[[${deaths}]]*/ [],
    		  	}, {
    		  		type: 'area',
    		      	name: 'Recovered',
    		      	data:  /*[[${recovered}]]*/[],	      			
    			}, {
    				type: 'pie',
    			  	data: [{
        				name: 'Active',
        		     	y: 	/*[[${totalActive}]]*/ [],
        				
        		 	}, {
        		     	name: 'Deaths',
        		      	y: 	/*[[${totalDeaths}]]*/ [],
        		      
        		  	}, {
        		      	name: 'Recovered',
        		      	y:  /*[[${totalRecovered}]]*/[],
        		     	      			
        			}],
        			center: [120, 60],
        		    size: 120,
        		    showInLegend: false,
        		    dataLabels: {
        		      enabled: true
        		    }   				
    			}]
			});
	})
	/*]]>*/
	</script>   	
</body>
</html>